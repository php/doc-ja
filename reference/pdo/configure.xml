<?xml version='1.0' encoding='utf-8'?>
<!-- $Revision$ -->
<!-- EN-Revision: 751d46fd605869500864d948489ce700c06ba4d7 Maintainer: takagi Status: ready -->
<!-- CREDITS: shimooka -->
<section xml:id="pdo.installation" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 &reftitle.install;
 <procedure xml:id='pdo.install.unix51up'>
  <title>Unix システム上での PHP 5.1 以降</title>
  <step>
   <para>
    PHP 5.1 を動作させているのならば、PDO および
    <link linkend="ref.pdo-sqlite">PDO_SQLITE</link>
    はその配布物の中に含まれています。configure を実行した際に PDO
    は自動的に有効になります。
    PDO は、共有モジュールとしてビルドすることを推奨します。
    なぜなら、PECL からアップデート版を導入する際にそのほうが有利だからです。
    PHP を PDO サポート込みでビルドする際の推奨設定は、
    zlib サポートを有効にする (pecl インストーラを使用するため) ことです。
    また、あなたが選択したデータベースについての PDO ドライバを有効にする必要もあります。
    詳細については<link linkend="pdo.drivers">データベース固有の PDO ドライバ</link>
    を参照ください。PDO を共有モジュールとしてビルドした場合は、
    PDO ドライバも共有モジュールとしてビルドする必要があることに注意しましょう。
    SQLite 拡張モジュールは PDO に依存しています。そのため、PDO
    を共有モジュールとしてビルドした場合には SQLite も同じようにビルドしなければなりません。
    <screen>
<![CDATA[
./configure --with-zlib --enable-pdo=shared --with-pdo-sqlite=shared --with-sqlite=shared
]]>
    </screen>
   </para>
  </step>
  <step>
   <para>
    PDO を共有モジュールとしてインストールした後は、PHP の実行時に
    PDO 拡張モジュールが自動的に読み込まれるよう、php.ini
    ファイルを編集する必要があります。
    また同様に、データベース固有のドライバについてもここで有効にする必要があります。
    この設定は pdo.so の行より後で記述するようにしましょう。なぜなら、
    データベース固有のドライバが読み込まれるためには、それ以前に
    PDO が初期化されていなければならないからです。
    PDO およびデータベース固有のドライバを静的にビルドしたのならば、
    この設定は不要です。
    <screen>
<![CDATA[
extension=pdo.so
]]>
    </screen>
   </para>
  </step>
  <step>
   <para>
    PDO を共有モジュールとしてビルドすると、新しいバージョンの PDO
    が公開された際に <command>pecl upgrade pdo</command>
    コマンドで更新することができるようになります。
    その際に PHP 自体を再ビルドする必要はありません。注意すべき点として、
    PDO をこの方法で更新した際はデータベース固有のドライバも同時に更新するようにしてください。
   </para>
  </step>
 </procedure>
 <procedure xml:id='pdo.install.pecl'>
  <title>Unix システム上での PHP 5.0.0 以降</title>
  <step>
   <para>
    PDO は、
    <link xlink:href='&url.pecl.package;pdo'>&url.pecl.package;pdo</link>
    から PECL 拡張モジュールとして使用可能です。
    <command>pecl</command> ツールを使用してインストールを行います。
    このツールは、PHP の configure 時に自動的に使用可能になります。
    <command>pecl</command> が圧縮されたパッケージを取り扱えるよう、
    PHP が --with-zlib を含めて confiure されていることを
    確認しておきましょう。
   </para>
  </step>
  <step>
   <para>
    以下のコマンドにより、最新の安定版の PDO
    をダウンロードしてビルドを行い、そしてインストールします。
    <screen>
<![CDATA[
pecl install pdo
]]>
    </screen>
   </para>
  </step>
  <step>
   <para>
    <command>pecl</command> コマンドは、PDO モジュールを自動的に
    PHP のエクステンションディレクトリにインストールします。
    Linux や Unix 上で PDO を有効にするには、以下の行を
    &php.ini; に追加する必要があります。
    <screen>
<![CDATA[
extension=pdo.so
]]>
    </screen>
   </para>
   <para>
    PECL パッケージのビルド方法についてのより詳細な情報は、マニュアルの
    <link linkend="install.pecl">PECL 拡張モジュールのインストール</link>
    を参照ください。
   </para>
  </step>
 </procedure>
 <procedure xml:id='pdo.install.win32php51'>
  <title>PHP 5.1.0 以降を使用している Windows ユーザ</title>
  <step>
   <para>
    PDO および主要データベースのドライバは、共有モジュールとして
    PHP に同梱されています。これを使用するには、単に
    &php.ini; ファイルを編集するだけです。
    <screen>
<![CDATA[
extension=php_pdo.dll
]]>
    </screen>
   </para>
  </step>
  <step>
   <para>
    次に、その他のデータベース固有の DLL ファイルを選択します。
    実行時に <function>dl</function> によりロードするか、または、
    &php.ini; の <filename>php_pdo.dll</filename> の下で有効にしてください。
    例えば、以下のようになります。
    <screen>
<![CDATA[
extension=php_pdo.dll
extension=php_pdo_firebird.dll
extension=php_pdo_informix.dll
extension=php_pdo_mssql.dll
extension=php_pdo_mysql.dll
extension=php_pdo_oci.dll
extension=php_pdo_oci8.dll
extension=php_pdo_odbc.dll
extension=php_pdo_pgsql.dll
extension=php_pdo_sqlite.dll
]]>
    </screen>
   </para>
   <para>
    これらの DLL は、システムの <link linkend="ini.extension-dir">extension_dir</link>
    で指定した場所に存在する必要があります。
    <link linkend="ref.pdo-informix">PDO_INFORMIX</link>
    は PECL 拡張モジュールにのみ存在することに注意しましょう。
   </para>
  </step>
 </procedure>
</section>


<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
