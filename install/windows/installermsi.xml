<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 00649f549f7db5ea0ede29e4a3fc6a0e10b53180 Maintainer: takagi Status: ready -->
   <sect1 xml:id="install.windows.installer.msi" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
   <title>Windows インストーラ (PHP 5.2 以降)</title>
    <para>
     Windows 用 PHP インストーラの最新版は、MSI 形式になっています。これは
     Wix Toolkit (<link xlink:href="&url.wix;">&url.wix;</link>) で作成されています。
     このインストーラは、インストールおよび PHP の設定、そして組み込みのモジュールと
     <acronym>PECL</acronym> 拡張モジュールの設定だけでなく、
     <acronym>IIS</acronym>、Apache そして Xitami
     などといった多くのウェブサーバーの設定も行います。
    </para>
    
    <simpara>
     最初に、お好みの <acronym>HTTP</acronym> (ウェブ)
     サーバーをシステムにインストールし、動作確認をします。
     それから、次のうちのいずれかのインストール形式を選択します。
    </simpara>
    
    <sect2 xml:id="install.windows.installer.msi.normal">
    <title>通常のインストール</title>
     <para>
      MSI インストーラを実行し、インストールウィザードの指示に従います。
      まず最初に設定するウェブサーバーを選択し、
      それに伴って必要となる設定を行います。
     </para>
     
     <para>
      次に、さまざまな機能や拡張モジュールの中から
      インストールして有効にしたいものを選択します。
      各項目のドロップダウンメニューで "Will be installed on local 
      hard drive" を選択することで、その機能をインストールするかどうかを切り替えます。
      "Entire feature will be 
      installed on local hard drive" を選択すると、
      その機能に関連するすべての機能がインストールされます
      (たとえば "PDO" に対してこのオプションを選択すると、
      すべての PDO ドライバがインストールされます)。
     </para>
     
     <warning>
      <para>
       すべての項目をデフォルトでインストールしてしまうのはお勧めしません。
       それらの多くは、適切に動作させるためには
       PHP 以外の外部の依存性を解決する必要があるからです。
       その代わりに、いったんインストールした後で
       コントロールパネルの「プログラムの追加と削除」
       で修復モードを使用して拡張モジュールを有効にするようにしましょう。
      </para>
     </warning>
     
     <para>
      次に、インストーラは Windows で使用する PHP と &php.ini;
      ファイルを設定し、ウェブサーバーで PHP を使用できるように設定します。
      現在インストーラがサポートしているのは IIS、
      Apache、Xitami および Sambar Server のみです。
      それ以外のウェブサーバーを使用する場合は、自分で設定する必要があります。
     </para>
    </sect2>
    
    <sect2 xml:id="install.windows.installer.msi.silent">
    <title>サイレントインストール</title>
     <para>
      このインストーラはサイレントモードもサポートしています。
      このモードは、システム管理者が簡単に PHP 環境を構築する際に便利です。
      サイレントモードは、次のようにして使用します。
      <screen>
<![CDATA[       
msiexec.exe /i php-VERSION-win32-install.msi /q
]]>     
      </screen>
     </para>
     <para>
      インストール先ディレクトリを設定するには、インストール時のパラメータとして指定します。
      例えば、e:\php にインストールする場合は次のようになります。
      <screen>
<![CDATA[       
msiexec.exe /i php-VERSION-win32-install.msi /q INSTALLDIR=e:\php
]]>     
      </screen>
      同様にして、Apache の設定ディレクトリ (APACHEDIR)
      や Sambar Server のディレクトリ (SAMBARDIR)、
      そして Xitami Server のディレクトリ (XITAMIDIR)
      も指定することが可能です。
     </para>
     <para>
      また、インストールする機能を指定することもできます。例えば、
      mysqli 拡張モジュールおよび CGI 実行ファイルをインストールするには次のようにします。
      <screen>
<![CDATA[       
msiexec.exe /i php-VERSION-win32-install.msi /q ADDLOCAL=cgi,ext_php_mysqli
]]>     
      </screen>
     </para>
     <para>
      現在、インストールする機能としてサポートされている項目は次のとおりです。
      <screen>
<![CDATA[ 
MainExecutable - php.exe 実行ファイル (PHP 5.2.10/5.3.0 以降は存在しません。デフォルトで含まれるようになりました)
ScriptExecutable - php-win.exe 実行ファイル
ext_php_* - 各種拡張モジュール (例: MySQL の場合は ext_php_mysql)
apache13 - Apache 1.3 モジュール
apache20 - Apache 2.0 モジュール
apache22 - Apache 2.2 モジュール
apacheCGI - Apache CGI 実行ファイル
iis4ISAPI - IIS ISAPI モジュール
iis4CGI - IIS CGI 実行ファイル
iis4FastCGI - IIS CGI 実行ファイル
NSAPI - Sun/iPlanet/Netscape サーバーモジュール
netserve - NetServe Web Server CGI 実行ファイル
Xitami - Xitami CGI 実行ファイル
Sambar - Sambar Server ISAPI モジュール
CGI - php-cgi.exe 実行ファイル
PEAR - PEAR インストーラ
Manual - CHM 形式の PHP マニュアル
]]>
      </screen>
     </para>
     <para>
      MSI インストーラをコマンドラインから使用する方法の詳細については
      <link xlink:href="&url.msicommandline;">&url.msicommandline;</link>
      を参照ください。
     </para>
    </sect2>
    
    <sect2 xml:id="install.windows.installer.msi.upgrade">
    <title>インストーラによる PHP のアップグレード</title>
    
     <para>
      アップグレードの際も、ダブルクリックあるいはコマンドラインから通常どおりインストーラを実行します。
      インストーラが現在のインストールオプションを読み取り、
      現在インストールされているバージョンを削除してから
      同じオプションで PHP をインストールしなおします。
      インストールディレクトリのファイルを手動で置き換えるのではなく、
      この方法で PHP をアップグレードすることを推奨します。
     </para>
    </sect2>
    
   </sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
