<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 97de820aa63cf9677dfb8cd5d6aa55893977d396 Maintainer: takagi Status: ready -->
<appendix xml:id="migration54" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>PHP 5.3.x から PHP 5.4.x への移行</title>
 <simpara>
  &manual.migration.seealso;
  <link linkend="migration5">5.0.x</link>、
  <link linkend="migration51">5.1.x</link>、
  <link linkend="migration52">5.2.x</link> および
  <link linkend="migration53">5.3.x</link> も参照ください。
 </simpara>

 <section xml:id="migration54.changes">
  <title>PHP 5.4.x における変更点</title>
  <simpara>
  <!-- Placehold for "What has changed in PHP 5.4.x". -->

  <!-- Current content for the 5.3.x changes
  
   Most improvements in PHP 5.3.x have no impact on existing code.  There are
   a <link linkend="migration53.incompatible">few incompatibilities</link>
   and <link linkend="migration53.new-features">new features</link> that should 
   be considered, and code should be tested before switching PHP
   versions in production environments.
   
   -->
  </simpara>
  <warning>
   <simpara>
    このリストは未完成です。
    PHP 5.4 がリリースされるまで頻繁に書き換えられることでしょう。
   </simpara>
  </warning>
  <simpara>
   5.3.x より古いバージョンの PHP からのアップグレードの場合は、
   以下の関連ドキュメントも参照ください。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="migration53">PHP 5.3.x への移行</link>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration52">PHP 5.2.x への移行</link>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration51">PHP 5.1.x への移行</link>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration5">PHP 4 から PHP 5 への移行</link>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.incompatible">
  <title>下位互換性のない変更点</title>
  <simpara>
   既存の PHP5 のコードのほとんどは変更なしで動作するはずですが、
   以下の下位互換性のない変更点については注意しましょう。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for incompatible entries -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   次に示すキーワードは予約語となり、関数名やクラス名などの識別子の名前として使えなくなりました。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="language.oop5.traits">trait</link>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-features">
  <title>新機能</title>
  <simpara>
   PHP 5.4.0 には多くの新機能が含まれています。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="language.oop5.traits">トレイト</link>のサポートが追加されました。
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.windows">
  <title>Windows版に対する変更</title>
  <simpara>
   Windows版に加えられた変更は以下の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Changes made to Windows support" -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Windows でのサポートが追加された関数は以下の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Changes made to Windows support" -->
     
     <!-- Example for a previous versions entry for this list

     <function>checkdnsrr</function>
     
     -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   その他の変更:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Other changes:" -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.sapi">
  <title>SAPI モジュールに対する変更</title>
  <itemizedlist>
   <listitem>
    <simpara>
     新しい SAPI モジュール cli-server が使えるようになりました。
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.deprecated">
  <title>PHP 5.4.x で推奨されなくなる機能</title>
  <simpara>
   <!-- Placeholder for "Deprecated features in PHP 5.4.x" -->
  </simpara>
  <simpara>
   INI ディレクティブで推奨されないものは以下の通りです。
   これらのひとつ以上を有効にすると、起動時に
   <constant>E_DEPRECATED</constant> エラーが発生します。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for deprecated INI entries. -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   推奨されない関数
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for deprecated functions. -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   推奨されない機能
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for deprecated features. -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

<!-- Are there any undeprecated features/settings/etc. in PHP 5.4?

 <section xml:id="migration54.undeprecated">
  <title>Undeprecated features in PHP 5.3.x</title>
  <simpara>
   The <function>is_a</function> function has been undeprecated by popular
   request; it will no longer issue an <constant>E_STRICT</constant> error.
  </simpara>
 </section>
-->

 <section xml:id="migration54.parameters">
  <title>新しいパラメータ</title>
  <simpara>
   PHP 5.4 では、新しい、またはオプションのパラメータを提供する関数があります。
  </simpara>
  <simpara>PHP コア:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Parameters" in PHP Core functions. -->
    </simpara>
   </listitem>
  </itemizedlist>

  <!-- Placeholder for "New Parameters" by books.

  <simpara><link linkend="book.json">json</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>json_encode</function>
     - Added <parameter>options</parameter>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>json_decode</function>
     - Added <parameter>depth</parameter>.
    </simpara>
   </listitem>
  </itemizedlist>
  
  -->

  <simpara>
   PHP 5.4.0 で追加されたメソッドパラメータは以下の通りです。
  </simpara>
  <simpara>PHP コア:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Parameters" for PHP Core methods. -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.functions">
  <title>新しい関数</title>
  <simpara>
   PHP 5.4 で加わった新しい関数は以下の通りです。
  </simpara>

  <simpara>PHP コア:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Functions" in PHP Core. -->
    </simpara>
   </listitem>
  </itemizedlist>

  <!-- Placeholder for "New Functions" by books.

  <simpara><link linkend="book.json">JSON</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>json_last_error</function>
     - Returns the last JSON error that occurred.
    </simpara>
   </listitem>
  </itemizedlist>

  -->

  <simpara>
   以下の関数はPHP本体に組み込まれました。つまり、これらは PHP を実行するオペレーティングシステムに関係なく使えるということです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for natively implemented functions. -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-stream-wrappers">
  <title>新しいストリームラッパー</title>
  <simpara>
   PHP 5.4.0 で加わったストリームラッパーは次の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New stream wrappers". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-stream-filters">
  <title>新しいフィルタ</title>
  <simpara>
   PHP 5.4.0 で加わったストリームフィルタは次の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New stream filters". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.class-constants">
  <title>新しいクラス定数</title>
  <simpara>
   PHP 5.4.0 で加わった新しいクラス定数は以下の通りです。
  </simpara>

  <!-- Placeholder for "New Class Constants" by books. -->
  
  <!-- Example
  
  <simpara><link linkend="ref.pdo-firebird">PDO_FIREBIRD</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>PDO::FB_ATTR_DATE_FORMAT</constant>
     - Sets the format for dates.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PDO::FB_ATTR_TIME_FORMAT</constant>
     - Sets the format for time.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PDO::FB_ATTR_TIMESTAMP_FORMAT</constant>
     - Sets the format for timestamps.
    </simpara>
   </listitem>
  </itemizedlist>
  
  -->
 </section>

 <section xml:id="migration54.methods">
  <title>新しいメソッド</title>
  <simpara>
   PHP 5.4.0 で加わった新しいメソッドは以下の通りです。
  </simpara>

  <!-- Placeholder for "New Class Constants" by books. -->
  
  <!-- Example
  
  <simpara><classname>Exception</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>Exception::getPrevious</function>
     - Retrieves the previous exception.
    </simpara>
   </listitem>
  </itemizedlist>

  -->
 </section>

 <section xml:id="migration54.new-extensions">
  <title>新しい拡張モジュール</title>
  <simpara>
   PHP 5.4.0 で追加された (デフォルトで含まれている) 拡張モジュールは以下の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Extensions". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.removed-extensions">
  <title>削除された拡張モジュール</title>
  <simpara>
   以下に示す拡張モジュールは PECL に移動し、PHP に同梱されなくなりました。
   これらの PECL パッケージ は、ユーザーの需要に応じて作られるかが決まります。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Removed Extensions". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.extensions-other">
  <title>その他の拡張モジュールに対する変更</title>
  <simpara>
   以下の拡張モジュールは configure スクリプトの実行中に無効にすることができなくなりました。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Other changes to extensions" - Cannot be disabled during build. -->
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara>
   拡張モジュールに対する振る舞いの変更や新機能は以下の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Changes in extension behaviour, and new features". -->
     
     <!-- Example
     
     <link linkend="book.datetime">Date and Time</link>
     - The TZ environment variable is no longer used to guess the timezone
     
     -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.classes">
  <title>新しいクラス</title>
  <simpara>
   PHP 5.4.0 で新しく加わったクラスは以下の通りです。
  </simpara>

  <!-- Placeholder for "New Classes". -->
  
  <!-- Example
  
  <simpara><link linkend="book.datetime">Date/Time</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>DateInterval</classname>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <classname>DatePeriod</classname>
    </simpara>
   </listitem>
  </itemizedlist>

  -->
 </section>

 <section xml:id="migration54.global-constants">
  <title>新しいグローバル定数</title>

  <simpara>PHP コア:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Global Constants" for PHP Core. -->

     <!-- Examample

     <constant>__DIR__</constant>

     -->
    </simpara>
   </listitem>
  </itemizedlist>

  <!-- Placeholder for "New Global Constants" by book. -->

  <!-- Examample

  <simpara><link linkend="book.curl">cURL</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>CURLOPT_PROGRESSFUNCTION</constant>
    </simpara>
   </listitem>
  </itemizedlist>

  -->

 <section xml:id="migration54.ini">
  <title>INI ファイルの扱いに関する変更</title>
  <simpara>
   デフォルト値が変更された ini ディレクティブは以下の通りです。
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for New Default Values for INI directives. -->
     
     <!-- Example
     
     <literal>session.use_only_cookies</literal> is now set to
     <literal>"1"</literal> (enabled) by default.
     
     -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.other">
  <title>その他の変更</title>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>E_ALL</constant> に <constant>E_STRICT</constant> を含むようになりました。
    </simpara>
   </listitem>
  </itemizedlist>
 </section>
</appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
