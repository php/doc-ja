 <reference id="ref.network">
  <title>ネットワーク関数</title>
  <titleabbrev>ネットワーク</titleabbrev>

  <refentry id="function.checkdnsrr">
   <refnamediv>
    <refname>checkdnsrr</refname>
    <refpurpose>
     指定したインターネットホスト名もしくはIPアドレスに対応するDNSレコー
     ドを検索する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>checkdnsrr</function></funcdef>
      <paramdef>string <parameter>host</parameter></paramdef>
      <paramdef>string 
       <parameter><optional>type</optional></parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <simpara>
     <parameter>host</parameter>に対応する<parameter>type</parameter>
     型のレコードをDNSから探します。レコードが見つかった場合にtrue、
     何も見つからないかエラーが発生した場合にfalseを返します。
    </simpara>
    <simpara>
     <parameter>type</parameter>は、A,MX,NS,SOA,PTR,CNAME,ANYのどれか
     一つです。デフォルトはMXです。
    </simpara>
    <simpara>
     <parameter>host</parameter>は、4つのドットを用いた表記の
     IPアドレスもしくはホスト名です。
    </simpara>
    <simpara>
     <function>getmxrr</function>,
     <function>gethostbyaddr</function>, 
     <function>gethostbyname</function>, 
     <function>gethostbynamel</function>および
     named(8)マニュアルページも参考にしてください。
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.closelog">
   <refnamediv>
    <refname>closelog</refname>
    <refpurpose>システムログへの接続を閉じる</refpurpose> 
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>closelog</function></funcdef>
      <void/>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>closelog</function>はシステムログへの書きこみに使用
     されているデスクプリタを閉じます。<function>closelog</function>の
     使用はオプションです。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.debugger-off">
   <refnamediv>
    <refname>debugger_off</refname>
    <refpurpose>PHPの内部デバッガを無効にする</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>debugger_off</function></funcdef>
      <void/>
     </funcprototype>
    </funcsynopsis>
    <para>
     PHPの内部デバッガを無効にします。デバッガはまだ開発中です。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.debugger-on">
   <refnamediv>
    <refname>debugger_on</refname>
    <refpurpose>PHPの内部デバッガを有効にする</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>debugger_on</function></funcdef>
      <paramdef>string <parameter>address</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     PHPの内部デバッガを有効にし、<parameter>address</parameter>に
     接続します。デバッガはまだ開発中です。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.fsockopen">
   <refnamediv>
    <refname>fsockopen</refname>
    <refpurpose>
     インターネットもしくはUNIXドメインのソケット接続をオープンする
    </refpurpose> 
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>fsockopen</function></funcdef>
      <paramdef>string <parameter>hostname</parameter></paramdef>
      <paramdef>int <parameter>port</parameter></paramdef>
      <paramdef>int 
       <parameter><optional>errno</optional></parameter>
      </paramdef>
      <paramdef>string 
       <parameter><optional>errstr</optional></parameter>
      </paramdef>
      <paramdef>double
       <parameter>
        <optional>timeout</optional></parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     Internetドメイン(AF_INET)または Unixドメイン(AF_UNIX)にて
     ストリーム接続を初期化します。Internetドメインの場合、
     <parameter>hostname</parameter>のポート<parameter>port</parameter>
     へのTCPソケット接続がオープンされます。Unixドメインの場合、
     <parameter>hostname</parameter>はソケットへのパスとして使用され、
     <parameter>port</parameter> はこの場合0とする必要があります。
     オプションの<parameter>timeout</parameter>により接続システムコール
     がタイムアウトするまでの秒数を指定することが可能です。
    </para>
    <para>
     <function>fsockopen</function>は、ファイルポインタを返します。
     このファイルポインタは、
     (<function>fgets</function>,<function>fgetss</function>,
     <function>fputs</function>, <function>fclose</function>,
     <function>feof</function>のような)
     他のファイル関数で使用可能です。
    </para>
    <para>
     コールに失敗した場合にはfalseが返され、オプションの引数
     <parameter>errno</parameter>および<parameter>errstr</parameter>
     が指定されている場合、システムコール<literal>connect()</literal>
     で生じた実際のシステムレベルエラーを示すように設定されます。
     errnoは0なのに関数がfalseを返す場合、<literal>connect()</literal>
     をコールする前にエラーを発生したことを示します。
     この場合、おそらくはソケットの初期化に原因があります。引数errno
     およびerrstrは参照渡しでなければならないことに注意してください。
    </para>
    <para>
     環境によってはUNIXドメインまたはオプションの接続タイムアウトは利用
     できません。
    </para>
    <para>
     ソケットはデフォルトでブロックモードで開かれます。
     <function>set_socket_blocking</function>を使用して、
     非ブロックモードに切換えることができます。
     <example>
      <title><function>fsockopen</function>の例</title>
      <programlisting role="php">
$fp = fsockopen ("www.php.net", 80, &$errno, &$errstr, 30);
if (!$fp) {
	echo "$errstr ($errno)&lt;br&gt;\n";
} else {
	fputs ($fp, "GET / HTTP/1.0\n\n");
	while (!feof($fp)) {
		echo fgets ($fp,128);
	}
	fclose ($fp);
}
      </programlisting>
     </example>
     <function>pfsockopen</function>も参照下さい。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gethostbyaddr">
   <refnamediv>
    <refname>gethostbyaddr</refname>
    <refpurpose>
     指定したIPアドレスに対応するインターネットホスト名を取得する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>gethostbyaddr</function></funcdef>
      <paramdef>string <parameter>ip_address</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <parameter>ip_address</parameter>で指定したインターネットホストの
     ホスト名を返します。エラーが発生した場合、
     <parameter>ip_address</parameter>を返します。
    </para>
    <para>
     <function>gethostbyname</function>も参考にしてください。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gethostbyname">
   <refnamediv>
    <refname>gethostbyname</refname>
    <refpurpose>
     インターネットホスト名に対応するIPアドレスを取得する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>gethostbyname</function></funcdef>
      <paramdef>string <parameter>hostname</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <parameter>hostname</parameter>で指定したインターネットホストの
     IPアドレスを返します。
    </para>
    <para>
     <function>gethostbyaddr</function>も参考にしてください。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gethostbynamel">
   <refnamediv>
    <refname>gethostbynamel</refname>
    <refpurpose>
     指定したインターネットホスト名に対応するIPアドレスのリストを取得
     する。
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>array <function>gethostbynamel</function></funcdef>
      <paramdef>string <parameter>hostname</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <parameter>hostname</parameter>で指定したインターネットホストを
     検索して得られた IPアドレスのリストを返します。
    </para>
    <para>
     <function>gethostbyname</function>,
     <function>gethostbyaddr</function>, 
     <function>checkdnsrr</function>,
     <function>getmxrr</function>および
     named(8)マニュアルページも参考にしてください。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.getmxrr">
   <refnamediv>
    <refname>getmxrr</refname>
    <refpurpose>
     指定したインターネットホスト名に対応するMXレコードを取得する
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>getmxrr</function></funcdef>
      <paramdef>string <parameter>hostname</parameter></paramdef>
      <paramdef>array <parameter>mxhosts</parameter></paramdef>
      <paramdef>array 
       <parameter><optional>weight</optional></parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <simpara>
     <parameter>hostname</parameter>に対応するMXレコードをDNSから探します。
     何かレコードが見つかった場合にtrueを返し、何も見つからないかエラーが
     発生した場合にfalseを返します。
    </simpara>
    <simpara>
     見つかったMXレコードのリストは、配列<parameter>mxhosts</parameter>
     に収容されます。配列<parameter>weight</parameter>が指定された場合、
     得られた重み情報が代入されます。
    </simpara>
    <simpara>
     <function>checkdnsrr</function>,
     <function>gethostbyname</function>,
     <function>gethostbynamel</function>,
     <function>gethostbyaddr</function>および
     named(8)マニュアルページも参考にしてください。
    </simpara>
   </refsect1>
  </refentry>

  <refentry id="function.getprotobyname">
   <refnamediv>
    <refname>getprotobyname</refname>
    <refpurpose>
     プロトコル名のプロトコル番号を得る
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>getprotobyname</function></funcdef>
      <paramdef>string <parameter>name</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>getprotobyname</function>は、プロトコル
     <parameter>name</parameter>のプロトコル番号を/etc/protocolsから
     取得して返します。
    </para>
    <para>
     <function>getprotobynumber</function>も参照下さい。
    </para>
   </refsect1>
  </refentry>
  
  <refentry id="function.getprotobynumber">
   <refnamediv>
    <refname>getprotobynumber</refname>
    <refpurpose>プロトコル番号が指すプロトコル名を得る</refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>getprotobynumber</function></funcdef>
      <paramdef>int <parameter>number</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>getprotobynumber</function>は、/etc/protocolsに基づき
     プロトコル番号<parameter>number</parameter>が指すプロトコル名を
     返します。
    </para>
    <para>
     <function>getprotobyname</function>も参照下さい。
    </para>
   </refsect1>
  </refentry>
   
  <refentry id="function.getservbyname">
   <refnamediv>
    <refname>getservbyname</refname>
    <refpurpose>
     インターネットサービスおよびプロトコルが関連するポート番号を得る
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>getservbyname</function></funcdef>
      <paramdef>string <parameter>service</parameter></paramdef>
      <paramdef>string <parameter>protocol</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>getservbyname</function>は、/etc/servicesに基づき
     指定したプロトコル<parameter>protocol</parameter>に関して
     <parameter>service</parameter>に対応するインターネットポートを
     返します。
     <parameter>protocol</parameter>は、<literal>TCP</literal>または
     <literal>UDP</literal>である必要があります。
    </para>
    <para>
     <function>getservbyport</function>も参照下さい。
    </para>
   </refsect1>
  </refentry>
 
  <refentry id="function.getservbyport">
   <refnamediv>
    <refname>getservbyport</refname>
    <refpurpose>
     ポートおよびプロトコルに対応するインターネットサービスを得る
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>string <function>getservbyport</function></funcdef>
      <paramdef>int <parameter>port</parameter></paramdef>
      <paramdef>string <parameter>protocol</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>getservbyport</function>は、/etc/servicesに基づき
     指定したプロトコル<parameter>protocol</parameter>に関して
     ポート<parameter>port</parameter>に関連するインターネットサービスを
     返します。<parameter>protocol</parameter>は、<literal>TCP</literal>
     または<literal>UDP</literal>のどちらかです。
    </para>
    <para>
     <function>getservbyname</function>も参照下さい。
    </para>
   </refsect1>
  </refentry>
 
  <refentry id="function.openlog">
   <refnamediv>
    <refname>openlog</refname>
    <refpurpose>システムログへの接続をオープンする</refpurpose> 
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>openlog</function></funcdef>
      <paramdef>string <parameter>ident</parameter></paramdef>
      <paramdef>int <parameter>option</parameter></paramdef>
      <paramdef>int <parameter>facility</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>openlog</function>は、プログラムによるシステムログへの
     接続をオープンします。
     文字列<parameter>ident</parameter>は、各メッセージに
     追加されます。<parameter>option</parameter>および
     <parameter>facility</parameter>の値は、次節で説明します。
     <function>openlog</function>の使用はオプションで、必要な場合に
     <function>syslog</function>により自動的に呼び出されます。
     この場合、<parameter>ident</parameter>のデフォルト値はfalseとなります。
    </para>
    <para>
     <function>syslog</function>および<function>closelog</function>も
     参考にしてください。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.pfsockopen">
   <refnamediv>
    <refname>pfsockopen</refname>
    <refpurpose>
     持続的なInternetまたはUnixドメインソケット接続をオープンする
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>説明</title>
     <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>pfsockopen</function></funcdef>
      <paramdef>string <parameter>hostname</parameter></paramdef>
      <paramdef>int <parameter>port</parameter></paramdef>
      <paramdef>int 
       <parameter><optional>errno</optional></parameter>
      </paramdef>
      <paramdef>string 
       <parameter><optional>errstr</optional></parameter>
      </paramdef>
      <paramdef>int
       <parameter><optional>timeout</optional></parameter>
      </paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     この関数は、<function>fsockopen</function> と全く同様に動作します。
     ただし、この関数による接続はリクエストが終了した後でも閉じられない
     という違があります。
     この関数は、<function>fsockopen</function>の持続的接続版です。
    </para>
   </refsect1>
  </refentry>

   <refentry id="function.set-socket-blocking">
   <refnamediv>
    <refname>set_socket_blocking</refname>
    <refpurpose>ソケットにおけるブロック非ブロックモードの設定</refpurpose> 
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>set_socket_blocking</function></funcdef>
      <paramdef>int <parameter>socket descriptor</parameter></paramdef>
      <paramdef>int <parameter>mode</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <parameter>mode</parameter>がfalseの場合、指定したソケット記述子
     は非ブロックモードに切換ります。trueの場合には、ブロックモードに
     切換ります。これは、ソケットから読み込みを行う
     <function>fgets</function>等のコールに影響します。
     非ブロックモードでは<function>fgets</function>は常にただちに値を
     返しますが、ブロックモードではデータがソケット上で取得可能に
     なるまで待ちつづけます。
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.syslog">
   <refnamediv>
    <refname>syslog</refname>
    <refpurpose>システムログのメッセージを生成する</refpurpose>     
   </refnamediv>
   <refsect1>
    <title>説明</title>
    <funcsynopsis>
     <funcprototype>
      <funcdef>int <function>syslog</function></funcdef>
      <paramdef>int <parameter>priority</parameter></paramdef>
      <paramdef>string <parameter>message</parameter></paramdef>
     </funcprototype>
    </funcsynopsis>
    <para>
     <function>syslog</function>はシステムログが出力するログメッセージを
     生成します。<parameter>priority</parameter>は、容易さ(facility)と
     レベル(level)の組み合わせで、その値については、次節で説明します。
     残りの引数は送信するメッセージです。ただし、文字<literal>%m</literal>
     は、<errortype>errno</errortype>の値に
     対応するエラーメッセージ文字列(strerror)に置換されます。
    </para>
    <para>
     syslog機能に関するより詳細な情報はUNIX機のsyslogに関する
     manページにあります。
    </para>
    <para>
     Windows NTでは、syslogサービスはイベントログによりエミュレート
     されます。
    </para>
   </refsect1>
  </refentry>

 </reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
